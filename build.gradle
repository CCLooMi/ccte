group 'ccloomi.com'
version '1.0'
def artifactId='ccte'

apply plugin: 'java'
apply plugin: 'maven'
allprojects {
	repositories {
		maven{url='http://192.168.31.109:8081/repository/alimaven-central/'}
		maven{url "http://192.168.31.109:8081/repository/spring-snapshot/"}
	}
}
//打包源代码
task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}
artifacts {
    archives sourcesJar
}
//上传到nexus
uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: "http://192.168.31.109:8081/repository/maven-releases/") {
                authentication(userName: "admin", password: "admin123")
            }
            pom.version = "$project.version"
            pom.artifactId = "$artifactId"
            pom.groupId = "$project.group"
        }
    }
}
dependencies {
        def springVersion		= "4.3.6.RELEASE"
        def jacksonVersion		= "2.8.6"
		def logbackVersion		= "1.1.9"
		def slf4jVersion		= "1.7.22"
		def springBootVersion	= "2.0.0.BUILD-SNAPSHOT"
		
        compile (
        		["com.google.guava:guava:21.0"],
                ["ch.qos.logback:logback-access:$logbackVersion"],
                ["ch.qos.logback:logback-classic:$logbackVersion"],
                ["ch.qos.logback:logback-core:$logbackVersion"],
				["org.slf4j:slf4j-api:$slf4jVersion"],
				["org.springframework.boot:spring-boot-starter-web:$springBootVersion"],
				["org.apache.tomcat.embed:tomcat-embed-logging-juli:8.5.2"],
                ["org.springframework:spring-core:$springVersion"],
                ["org.springframework:spring-web:$springVersion"],
                ["org.springframework:spring-webmvc:$springVersion"],
                ["org.eclipse.jdt.core.compiler:ecj:4.6.1"],
                ["org.jsoup:jsoup:1.10.2"],
            	["org.xerial.snappy:snappy-java:1.1.2.6"],//snappy高速压缩
				["javax.servlet:javax.servlet-api:3.1.0"],
				["javax.servlet.jsp:javax.servlet.jsp-api:2.3.1"])
        compile fileTree(dir: 'libs', include: '*.jar')
        testCompile group: 'junit', name: 'junit', version: '4.+'
}
tasks.withType(JavaCompile) {
        options.encoding = "UTF-8"
}